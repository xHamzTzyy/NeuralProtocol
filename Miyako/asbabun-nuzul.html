<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Asbabun Nuzul</title>
<link href="https://fonts.googleapis.com/css2?family=Scheherazade+New:wght@400;700&family=Cinzel:wght@400;600&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root{--bg:#080e14;--c1:#0d1821;--c2:#142030;--c3:#1c2d42;--gold:#c9a84c;--gl:#e8cc7a;--gd:rgba(201,168,76,.15);--em:#1a6b4a;--el:#25a06e;--eg:rgba(26,107,74,.25);--cr:#f5f0e8;--cd:rgba(245,240,232,.65);--cm:rgba(245,240,232,.3);--br:rgba(201,168,76,.18);--bs:rgba(245,240,232,.07);--fa:'Scheherazade New',serif;--fh:'Cinzel',serif;--fb:'DM Sans',sans-serif;}
*{margin:0;padding:0;box-sizing:border-box;}html{scroll-behavior:smooth;}
body{font-family:var(--fb);background:var(--bg);color:var(--cr);min-height:100vh;overflow-x:hidden;}
body::before{content:'';position:fixed;inset:0;background-image:repeating-linear-gradient(60deg,transparent,transparent 40px,rgba(201,168,76,.02) 40px,rgba(201,168,76,.02) 41px),repeating-linear-gradient(-60deg,transparent,transparent 40px,rgba(201,168,76,.02) 40px,rgba(201,168,76,.02) 41px);pointer-events:none;z-index:0;}
::-webkit-scrollbar{width:4px;}::-webkit-scrollbar-track{background:var(--c1);}::-webkit-scrollbar-thumb{background:var(--gold);border-radius:2px;}
nav{position:sticky;top:0;z-index:100;background:rgba(8,14,20,.92);backdrop-filter:blur(20px);border-bottom:1px solid var(--br);padding:0 1.5rem;height:58px;display:flex;align-items:center;justify-content:space-between;}
.nl{display:flex;align-items:center;gap:.6rem;cursor:pointer;text-decoration:none;}
.ni{width:30px;height:30px;background:linear-gradient(135deg,var(--em),var(--el));border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:.85rem;color:#fff;}
.nt{font-family:var(--fh);font-size:.95rem;color:var(--cr);}
.nbtns{display:flex;gap:.4rem;}
.nb{display:flex;align-items:center;gap:.4rem;background:none;border:1px solid var(--bs);color:var(--cd);padding:.35rem .8rem;border-radius:7px;cursor:pointer;font-family:var(--fb);font-size:.8rem;transition:.2s;text-decoration:none;}
.nb:hover{border-color:var(--br);color:var(--cr);}
.nb.gold{background:var(--gd);border-color:var(--br);color:var(--gold);}
.hero{text-align:center;padding:2.5rem 1.5rem 1.5rem;position:relative;z-index:1;}
.h-ar{font-family:var(--fa);font-size:2.8rem;color:var(--gl);margin-bottom:.4rem;line-height:1.3;}
.h-ti{font-family:var(--fh);font-size:1.25rem;letter-spacing:.08em;margin-bottom:.3rem;}
.h-su{font-size:.83rem;color:var(--cd);}
.filters{display:flex;justify-content:center;gap:.5rem;margin-top:1rem;flex-wrap:wrap;}
.fp{padding:.28rem .9rem;border-radius:20px;font-size:.73rem;cursor:pointer;transition:.2s;border:1px solid var(--bs);background:var(--c2);color:var(--cd);font-family:var(--fb);}
.fp:hover,.fp.on{background:var(--em);border-color:var(--el);color:#fff;}
.fp.gp{background:var(--gd);border-color:var(--br);color:var(--gold);}
.fp.gp:hover,.fp.gp.on{background:var(--gold);color:var(--bg);}
.top{max-width:1100px;margin:1.2rem auto 0;padding:0 1.5rem;display:flex;gap:.8rem;}
.srch{flex:1;position:relative;}
.srch input{width:100%;padding:.6rem 1rem .6rem 2.2rem;background:var(--c2);border:1px solid var(--bs);border-radius:9px;color:var(--cr);font-family:var(--fb);font-size:.85rem;outline:none;transition:.25s;}
.srch input:focus{border-color:var(--br);}
.srch input::placeholder{color:var(--cm);}
.srch i{position:absolute;left:.75rem;top:50%;transform:translateY(-50%);color:var(--cm);font-size:.8rem;}
.main{max-width:1100px;margin:1rem auto 0;padding:0 1.5rem 4rem;position:relative;z-index:1;}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:.7rem;}
.card{background:var(--c1);border:1px solid var(--bs);border-radius:14px;padding:1.2rem;transition:all .22s;position:relative;overflow:hidden;animation:fadeIn .3s ease both;}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
.card:hover{border-color:var(--br);transform:translateY(-1px);box-shadow:0 6px 20px rgba(201,168,76,.07);}
.card-head{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:.8rem;gap:.5rem;}
.surat-info{flex:1;}
.surat-name{font-family:var(--fh);font-size:.85rem;color:var(--gold);margin-bottom:.15rem;}
.ayat-ref{font-size:.7rem;color:var(--cm);background:var(--c2);border:1px solid var(--bs);padding:.1rem .45rem;border-radius:4px;display:inline-block;}
.period-badge{font-size:.65rem;padding:.15rem .5rem;border-radius:4px;white-space:nowrap;}
.makkiyah{background:rgba(201,168,76,.1);border:1px solid var(--br);color:var(--gold);}
.madaniyah{background:var(--eg);border:1px solid rgba(37,160,110,.25);color:var(--el);}
.ayat-ar{font-family:var(--fa);font-size:1.5rem;color:var(--gl);text-align:right;direction:rtl;line-height:1.6;padding:.7rem;background:var(--c2);border-radius:8px;margin-bottom:.7rem;}
.sebab-title{font-size:.68rem;color:var(--gold);font-weight:600;text-transform:uppercase;letter-spacing:.05em;margin-bottom:.35rem;}
.sebab-text{font-size:.75rem;color:var(--cd);line-height:1.65;}
.hikmah-box{margin-top:.7rem;padding:.6rem;background:var(--eg);border:1px solid rgba(37,160,110,.2);border-radius:8px;display:none;}
.card.exp .hikmah-box{display:block;}
.hikmah-title{font-size:.65rem;color:var(--el);font-weight:600;margin-bottom:.3rem;}
.hikmah-text{font-size:.72rem;color:var(--cd);line-height:1.6;}
.cex{font-size:.67rem;color:var(--gold);background:none;border:none;cursor:pointer;padding:0;font-family:var(--fb);margin-top:.5rem;display:block;}
.toast{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%) translateY(10px);background:var(--c3);border:1px solid var(--br);color:var(--cr);padding:.5rem 1.3rem;border-radius:20px;font-size:.78rem;opacity:0;transition:.3s;z-index:9999;pointer-events:none;white-space:nowrap;}
.toast.on{opacity:1;transform:translateX(-50%) translateY(0);}
.empty{text-align:center;padding:3rem;color:var(--cm);}
.empty i{font-size:2rem;display:block;margin-bottom:.5rem;opacity:.3;}
@media(max-width:600px){.grid{grid-template-columns:1fr;}.main{padding:0 1rem 4rem;}}
</style>
</head>
<body>
<nav>
  <a class="nl" href="/dashboard">
    <div class="ni"><i class="fa-solid fa-mosque"></i></div>
    <span class="nt">IslamiHub</span>
  </a>
  <div class="nbtns">
    <a class="nb" href="/kisah-nabi"><i class="fa-solid fa-star-and-crescent"></i> Kisah Nabi</a>
    <a class="nb gold" href="/dashboard"><i class="fa-solid fa-home"></i></a>
  </div>
</nav>

<div class="hero">
  <div class="h-ar">أَسْبَابُ النُّزُول</div>
  <div class="h-ti">Asbabun Nuzul</div>
  <div class="h-su">Sebab-sebab turunnya ayat Al-Quran yang perlu diketahui</div>
  <div class="filters">
    <button class="fp gp on" onclick="filterData('all',this)">Semua</button>
    <button class="fp" onclick="filterData('makkiyah',this)">Makkiyah</button>
    <button class="fp" onclick="filterData('madaniyah',this)">Madaniyah</button>
  </div>
</div>

<div class="top">
  <div class="srch">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input type="text" placeholder="Cari surat atau kejadian..." id="search-input" oninput="doSearch()">
  </div>
</div>

<div class="main">
  <div class="grid" id="grid"></div>
  <div class="empty" id="empty" style="display:none"><i class="fa-solid fa-wind"></i>Tidak ditemukan</div>
</div>

<div class="toast" id="toast"></div>

<script>
const data = [
  {id:1,surat:'Al-Alaq',ayat:'96:1-5',period:'makkiyah',ar:'اِقْرَأْ بِاسْمِ رَبِّكَ الَّذِيْ خَلَقَ',sebab:'Ayat pertama yang turun kepada Nabi Muhammad SAW ketika beliau sedang berkhalwat di Gua Hira. Malaikat Jibril memeluknya tiga kali dan memerintahkan untuk membaca. Rasulullah menjawab "Aku tidak bisa membaca."',hikmah:'Perintah membaca (iqra) sebagai wahyu pertama menunjukkan betapa Islam sangat mementingkan ilmu pengetahuan. Belajar adalah kewajiban setiap Muslim.'},
  {id:2,surat:'Al-Baqarah',ayat:'2:183',period:'madaniyah',ar:'يٰٓاَيُّهَا الَّذِيْنَ اٰمَنُوْا كُتِبَ عَلَيْكُمُ الصِّيَامُ',sebab:'Turun pada tahun ke-2 Hijriah mewajibkan puasa Ramadhan. Sebelumnya, umat Islam juga berpuasa Asyura (10 Muharram) yang kemudian menjadi sunnah setelah Ramadhan diwajibkan.',hikmah:'Puasa Ramadhan diwajibkan untuk melatih ketakwaan, mengendalikan hawa nafsu, dan merasakan penderitaan orang-orang yang kekurangan makanan.'},
  {id:3,surat:'An-Nur',ayat:'24:11-20',period:'madaniyah',ar:'اِنَّ الَّذِيْنَ جَاۤءُوْ بِالْاِفْكِ عُصْبَةٌ مِّنْكُمْ',sebab:'Turun merespons fitnah terhadap Aisyah RA ketika tertinggal dari rombongan dalam perjalanan pulang dari perang. Kaum munafik yang dipimpin Abdullah bin Ubay menyebarkan tuduhan keji terhadapnya selama sebulan.',hikmah:'Allah membuktikan kesucian Aisyah RA langsung melalui wahyu. Ini menunjukkan betapa besarnya dosa menyebarkan fitnah dan tuduhan tanpa bukti.'},
  {id:4,surat:'Al-Maidah',ayat:'5:3',period:'madaniyah',ar:'اَلْيَوْمَ اَكْمَلْتُ لَكُمْ دِيْنَكُمْ',sebab:'Turun pada saat Haji Wada (perpisahan) di Padang Arafah, 9 Dzulhijjah tahun ke-10 Hijriah. Merupakan ayat terakhir yang turun berkaitan dengan hukum syariat.',hikmah:'Islam telah sempurna. Tidak ada yang perlu ditambah atau dikurangi. Umat Islam hanya perlu mengamalkan apa yang sudah ada.'},
  {id:5,surat:'Al-Anfal',ayat:'8:1',period:'madaniyah',ar:'يَسْـَٔلُوْنَكَ عَنِ الْاَنْفَالِ',sebab:'Turun setelah Perang Badar (17 Ramadhan 2 H) ketika para sahabat berselisih tentang pembagian ghanimah (harta rampasan perang). Masing-masing kelompok merasa paling berhak.',hikmah:'Perselisihan soal harta adalah sumber perpecahan. Allah menurunkan aturan pembagian yang adil agar umat tidak terpecah belah.'},
  {id:6,surat:'Al-Hujurat',ayat:'49:6',period:'madaniyah',ar:'يٰٓاَيُّهَا الَّذِيْنَ اٰمَنُوْا اِنْ جَاۤءَكُمْ فَاسِقٌۢ بِنَبَاٍ',sebab:'Turun berkenaan dengan Al-Walid bin Uqbah yang diutus Nabi ke Bani Mustaliq untuk mengambil zakat. Ia membawa berita bahwa mereka hendak memerangi Rasulullah, padahal tidak benar.',hikmah:'Verifikasi informasi sebelum bertindak adalah kewajiban. Di era modern, ayat ini menjadi landasan melawan hoaks dan berita bohong.'},
  {id:7,surat:'At-Tahrim',ayat:'66:1',period:'madaniyah',ar:'يٰٓاَيُّهَا النَّبِيُّ لِمَ تُحَرِّمُ مَآ اَحَلَّ اللّٰهُ لَكَ',sebab:'Turun ketika Nabi SAW berjanji tidak akan meminum madu lagi untuk menyenangkan sebagian istrinya. Ada riwayat yang menyebutkan ini terjadi di rumah Hafsah atau Zainab binti Jahsy.',hikmah:'Manusia tidak boleh mengharamkan apa yang Allah halalkan, bahkan seorang Nabi sekalipun perlu ditegur jika melakukannya.'},
  {id:8,surat:'Al-Kahfi',ayat:'18:83-98',period:'makkiyah',ar:'وَيَسْـَٔلُوْنَكَ عَنْ ذِي الْقَرْنَيْنِ',sebab:'Orang-orang Quraisy mengutus dua orang ke Madinah untuk bertanya kepada Yahudi Madinah tentang cara menguji Muhammad. Para Yahudi menyarankan bertanya tentang Ashabul Kahfi, ruh, dan Dzulkarnain.',hikmah:'Al-Quran mampu menjawab pertanyaan dari kitab-kitab terdahulu, membuktikan bahwa ia adalah wahyu dari Yang Maha Mengetahui.'},
  {id:9,surat:'An-Nisa',ayat:'4:11',period:'madaniyah',ar:'يُوْصِيْكُمُ اللّٰهُ فِيْٓ اَوْلَادِكُمْ',sebab:"Turun berkenaan dengan Jabir bin Abdillah yang sakit parah. Ia bertanya kepada Rasulullah tentang bagaimana cara membagi hartanya karena hanya memiliki anak-anak perempuan dan seorang paman.",hikmah:'Islam mengatur warisan dengan sangat detail dan adil. Hak perempuan dalam waris yang dijamin Al-Quran merupakan revolusi besar di zamannya.'},
  {id:10,surat:'Al-Isra',ayat:'17:85',period:'makkiyah',ar:'وَيَسْـَٔلُوْنَكَ عَنِ الرُّوْحِ',sebab:'Orang-orang Yahudi di Madinah bertanya kepada Nabi tentang hakikat ruh. Ada juga riwayat bahwa orang Quraisy yang bertanya atas saran Yahudi untuk menguji kenabian Muhammad.',hikmah:'Ilmu tentang ruh hanya milik Allah. Ada batas pengetahuan manusia yang tidak dapat dijangkau. Ini mengajarkan kerendahan hati dalam berilmu.'},
  {id:11,surat:'Al-Baqarah',ayat:'2:187',period:'madaniyah',ar:'اُحِلَّ لَكُمْ لَيْلَةَ الصِّيَامِ الرَّفَثُ اِلٰى نِسَاۤئِكُمْ',sebab:'Sebelumnya, setelah shalat Isya atau tidur, kaum Muslimin tidak boleh makan, minum, atau bercampur dengan istri meski masih malam Ramadhan. Seorang sahabat, Umar bin Khattab, pernah melanggar tanpa sengaja.',hikmah:'Allah Maha Pengampun dan Penyayang. Syariat Islam memperhatikan kemampuan manusia dan tidak mempersulit hamba-Nya.'},
  {id:12,surat:'Al-Maun',ayat:'107:1-7',period:'makkiyah',ar:'اَرَءَيْتَ الَّذِيْ يُكَذِّبُ بِالدِّيْنِ',sebab:'Menurut sebagian mufasir turun berkenaan dengan Abu Sufyan atau Abu Jahal yang menyembelih unta tapi menolak memberi daging kepada anak yatim yang memintanya. Menurut riwayat lain berkenaan dengan orang munafik.',hikmah:'Agama bukan hanya ritual ibadah kepada Allah, tapi juga kepedulian sosial. Shalat yang tidak dibarengi kepedulian kepada sesama adalah sia-sia.'},
];

let currentFilter = 'all';

function render(list){
  const g = document.getElementById('grid');
  const e = document.getElementById('empty');
  if(!list.length){g.innerHTML='';e.style.display='block';return;}
  e.style.display='none';
  g.innerHTML = list.map((d,i)=>`
    <div class="card" style="animation-delay:${i*0.04}s">
      <div class="card-head">
        <div class="surat-info">
          <div class="surat-name">${d.surat}</div>
          <span class="ayat-ref">QS. ${d.ayat}</span>
        </div>
        <span class="period-badge ${d.period}">${d.period==='makkiyah'?'Makkiyah':'Madaniyah'}</span>
      </div>
      <div class="ayat-ar">${d.ar}</div>
      <div class="sebab-title">Sebab Turun</div>
      <div class="sebab-text">${d.sebab}</div>
      <div class="hikmah-box">
        <div class="hikmah-title">Hikmah & Pelajaran</div>
        <div class="hikmah-text">${d.hikmah}</div>
      </div>
      <button class="cex" onclick="toggleExp(this)">Lihat hikmah ▾</button>
    </div>
  `).join('');
}

function toggleExp(btn){
  btn.closest('.card').classList.toggle('exp');
  btn.textContent = btn.closest('.card').classList.contains('exp') ? 'Tutup ▴' : 'Lihat hikmah ▾';
}

function filterData(cat, btn){
  currentFilter = cat;
  document.querySelectorAll('.fp').forEach(b=>b.classList.remove('on'));
  btn.classList.add('on');
  applyFilter();
}

function doSearch(){applyFilter();}

function applyFilter(){
  const q = document.getElementById('search-input').value.toLowerCase();
  let list = currentFilter==='all' ? data : data.filter(d=>d.period===currentFilter);
  if(q) list = list.filter(d=>d.surat.toLowerCase().includes(q)||d.sebab.toLowerCase().includes(q)||d.hikmah.toLowerCase().includes(q));
  render(list);
}

render(data);
</script>
</body>
</html>